#!/usr/bin/python3
# v0.1.2

import sys;
from os import system;
from time import sleep;
from platform import uname;

innv = "ВНУТРЕННИЙ ГОЛОС:"
nSkoof = "???:"
skoof = "СКУФ:"
dc = "ДИКТОР:"
game = "ИГРА:"
alt0 = "КСЮША:"
alt1 = "НАСТЯ:"
alt2 = "АЛИСА:"

press_enter = ">> Нажмите <Enter>, чтобы продолжить <<\n";

plat = uname().system;
if ((plat == "Linux") or (plat == "MacOS")):
  system("clear");
elif (plat == "Windows"): # Говно
  system("cls");
  print("Поставь линукс :)");

# A function for writing text to the screen with an animation
def write(title: str, s: str, duration: int, autonext: bool = False):
  for i in range(len(title)+1):
    print(f"\r{title[:i]}", end="");
    sleep(0.028);
  for i in range(len(s)+1):
    print(f"\r{title} {s[:i]}", end="");
    sleep(duration/1000);
  if (autonext):
    sleep(0.2);
    print();
  else:
    input();

def main(argc: int, argv: list):
  tsp = 45;
  write(innv, "Доброе утро, СКУФЫ!", tsp);
  write(nSkoof, "Ещё один день.", tsp);
  write(dc, "Где я? Кто я?", tsp);
  write(game, "Как тебя зовут?", tsp, True);
  temp = input(">> ");
  if (temp.lower() != "скуф"):
    write(innv, "Кого ты пытаешься надуть!? Все знают, что ты просто СКУФ!", tsp);
  write(skoof, "Ещё один день.", tsp);
  write(skoof, "Ещё один бессмысленный день.", tsp);
  write(innv, "Дружище, хорош киснуть! Всё не может быть настолько плохо!", tsp);
  write(skoof, "Как я дошёл до того, что мой единственный собеседник, это мой внутренний голос?", tsp);
  write(innv, "Проснись и ПОЙ!", tsp);
  write(skoof, "В одном он прав.", tsp);
  write(skoof, "Конечно, хорошо было бы провести в постели весь день...", tsp);
  write(skoof, "А впрочем, почему бы и нет?", tsp);
  write(game, "Провести в постели весь день?", tsp, True);
  print("0 -- Да, с удовольствием!\n1 -- Конечно нет!\nНичего -- 0");
  temp = input(">> ");
  temp = (int(temp) % 2) if (temp) else 0;
  # Спать или встать
  if (temp == 0):
    write(dc, "Ты переворачиваешься на другой бок, уютно укутавшись старым добрым одеялом.", tsp);
    write(dc, "Удобно устариваясь на матрасе среднего уровня качества, ты погружаешься в него, словно нож в масло.", tsp);
    write(dc, "По твоему телу пробегает лёгкая дрожь. Ты знаешь, что за этим последует.", tsp);
    write(dc, "Твои веки тяжелеют, а мысли путаются.", tsp);
    write(dc, "Ты засыпаешь.", tsp);
    sleep(0.6);
    write(innv, "Добрый вечер!", tsp);
    write(skoof, "В смысле... Вечер?", tsp);
    write(dc, "Ты видишь, как свет уличного фонаря проникает сквозь зазор между шторами.", tsp);
    write(dc, "Сочные городские сумерки проглотили твою типовую панельку и, переварив, изрыгнули в промозглый провинциальный вечер.", tsp);
    write(dc, "День остался позади.", tsp);
    write(game, "Встать с кровати.", tsp, True);
    input(press_enter);
  else:
    write(dc, "Легко и непринуждённо с грацией, которой позавидовала бы косуля (по крайней мере, тебе так кажется)...", tsp);
    write(dc, "...Ты соскакиваешь с повидавшей виды, но всё ещё добротной полутораспальной кровати.", tsp);
  sleep(0.3);
  write(innv, "БАБАХ!", tsp);
  write(dc, "Ты грузно и неуклюже падаешь на пол, неудобно подвернув руку под свой месистый живот.", tsp);
  write(skoof, "Сука!", tsp);
  write(dc, "Этот грохот, наверное, соседи на три этажа вниз слышали.", tsp);
  write(innv, "Тебя ждут великие дела!", tsp);
  write(skoof, "Окей, окей, уже встаю, товарищ начальник.", tsp);
  write(innv, "Я не начальник, я твой лучший ДРУУУГ!", tsp);
  write(dc, "Смурной и сонный, не найдя под кроватью шлёпанцы (чёрт бы их побрал), ты выходишь в коридор.", tsp);
  write(skoof, "Какого чёрта здесь так темно!?", tsp);
  write(innv, "Чего ты ещё ждал? Что на самом дне человеческого существования всё будет ярко, как в жаркий полдень из рассказа Рэя Бредберри?", tsp);
  write(skoof, "Заткнись, я не с тобой разговариваю!", tsp);
  write(innv, "А с кем тогда?", tsp);
  write(skoof, "Сам с собой, вот с кем!", tsp);
  write(innv, "Но ведь я и есть ты!", tsp);
  write(skoof, "Заткнись, заткнись!", tsp);
  write(innv, "А вдруг во тьме нас ждут ЧУДОВИЩА?", tsp);
  write(innv, "Которые только и мечтают, чтобы затянуть тебя вглубь своими склизкими щупальцами?", tsp);
  write(dc, ".............", tsp);
  write(skoof, "Ты дурак?", tsp);
  write(dc, "Диалог занимает в твоей голове не более полутора секунд, а рука сама привычно нашаривает рельеф выключателя на обшарпанной стене.", tsp);
  write(game, "Включить свет.", tsp, True);
  input(press_enter);
  write(skoof, "Теперь, когда фронт работ освещён, нам предстоит нелёгкий выбор.", tsp);
  write(skoof, "Куда мне отправиться дальше, дабы смахнуть остатки сна с моих нежных ресниц...", tsp);
  write(innv, "...Напоминающих обувную щётку?", tsp);
  write(skoof, "Цыц, здесь я делаю выбор, данный мне столь щедро создателем.", tsp, True);
  print("0 -- Пойти в ванную\n1 -- Пойти в туалет\nНичего -- 0");
  current_place = input(">> ");
  current_place = (int(current_place) % 2) if (current_place) else 0;
  work_list = ["ванная", "туалет"];
  # Ванная и туалет
  while (work_list):
    if ((current_place == 0) and ("ванная" in work_list)):
      write(dc, "Грязная ванная встречает тебя с радостью похороонного служащего.", tsp);
      write(dc, "Совершенно очевидно, что вы друг другу чужие и ваши отношения -- в лучшем случае деловые.", tsp);
      write(dc, "В худшем -- токсичные созависимые.", tsp);
      write(skoof, "Так. Ты не нравишься мне, а я не нравлюсь тебе, леди ванная комната.", tsp);
      write(skoof, "Давай решим это по-быстрому.", tsp);
      write(skoof, "Все всё понимают!", tsp);
      write(skoof, "Мы взрослые люди.", tsp);
      write(innv, "Разговариваешь с ванной комнатой? Да ты совсем с катушек слетел, дружище.", tsp);
      write(skoof, "Не я, а мы. Ты же часть меня, разве забыл?", tsp);
      write(game, "Посмотреть в зеркало", tsp, True);
      input(press_enter);
      write(skoof, "Нет. Нет. Точно нет.", tsp);
      write(innv, "Откуда такая категоричность?", tsp);
      write(skoof, "Оно... Оно просто грязное. Там ничего не видно.", tsp);
      write(innv, "Так протри его, всего делов!", tsp);
      write(skoof, "Ну...", tsp);
      write(game, "Протереть зеркало", tsp, True);
      input(press_enter);
      write(dc, "Зажав в руке то, что когда-то называлось \"Полотенце Вафельное Гост 11027\", ты производишь несколько характерных вращательных движений.", tsp);
      write(dc, "Старое стекло приятно поскрипыывает под волокнами ткани.", tsp);
      write(dc, "Грязь отступает, давая зеркальной поверхности ещё один шанс засиять.", tsp);
      write(dc, "(Конечно же, при наличии источника направленного света).", tsp);
      write(innv, "Узри же, шакал!", tsp);
      write(skoof, "НЕТ!", tsp);
      write(skoof, "Я не хочу!", tsp);
      write(skoof, "Мне точно не понравится то, что я там увижу.", tsp);
      write(skoof, "Я же только проснулся и не хочу расстраиваться на весь день вперёд.", tsp);
      write(skoof, "Когда-то отражение в этом зеркале было словно репродукция картины эпохи Ренессанса...", tsp);
      write(skoof, "...Ну, одной из тех, на античную тематику.", tsp);
      write(skoof, "Но теперь...", tsp);
      write(skoof, "Чудовище, живущее там, может запросто выбраться наружу и убить нас всех!", tsp);
      write(innv, "Ты здесь один?", tsp);
      write(skoof, "КХАААА....", tsp);
      write(dc, "Хрип в твоей груди вот-вот сорвётся на сдавленные рыдания, но помощь приходит оттуда, откуда ты её вовсе не ждал.", tsp);
      write(innv, "Тише, тише, дружище.", tsp);
      write(innv, "Мы уже поняли, ванная команата -- не лучшее место для тебя.", tsp);
      write(innv, "Давай пойдём куда-нибудь ещё.", tsp);
      if ("туалет" in work_list):
        write(game, "Пойти в туалет", tsp, True);
        input(press_enter);
        current_place = 1;
      else:
        write(game, "Выйти в коридор", tsp, True);
        input(press_enter);
      work_list.remove("ванная");
    elif ((current_place == 1) and ("туалет" in work_list)):
      write(skoof, "Пойти в туалет? Что ещё? Может просраться в сортире?", tsp);
      write(innv, "Ой, простите, ваше величество!", tsp);
      write(game, "Посетить уборную.", tsp, True);
      input(press_enter);
      write(skoof, "Самый важный ритуал за день.", tsp);
      write(skoof, "И по совместитьельству -- самый приятный!", tsp);
      write(game, "Просраться как следует?", tsp, True);
      print("0 -- Да\n1 -- Да\n2 -- Da\n3 -- Чёрт возьми да!\nНичего -- 0");
      temp = input(">> ");
      temp = (int(temp) % 4) if (temp) else 0;
      sleep(0.6);
      write(innv, "Поздравляю, ты получил +2 к здоровью и +3 к харизме!", tsp);
      write(skoof, "Правда? Было бы неплохо! Со здорозвьем у меня как раз проблемы.", tsp);
      write(innv, "Неправда!", tsp);
      write(skoof, "Чёрт.", tsp);
      write(skoof, "Кажется, все дела в коридоре мы закончили.", tsp);
      write(skoof, "Тьфу ты! Какие ещё \"дела\" могут быть в коридоре?..", tsp);
      write(skoof, "Ладно, не хочу об этом думать.", tsp);
      work_list.remove("туалет");
      if ("ванная" in work_list):
        write(game, "Пойти в ванную", tsp, True);
        input(press_enter);
        current_place = 0;

  write(game, "Отправиться на кухню", tsp, True);
  input(press_enter);
  write(innv, "Ты имел в виду, <<Отправиться на скуфню>>?", tsp);
  write(skoof, "Нет, на кухню", tsp);
  write(game, "Отправиться на кухню", tsp, True);
  input(press_enter);
  write(innv, "<<Отправиться?>> да ты у нас не иначе как знаменитый путешественник Фернан Магеллан!", tsp);
  write(innv, "Который <<отправился>> в плавание вокруг света!", tsp);
  write(skoof, "Я не собираюсь никак это комментировать.", tsp);
  # Кухня
  write(dc, "Кухня встречает тебя привычным пейзажем.", tsp);
  write(dc, "Не то, чтобы ты хотел проводить здесь много времени.", tsp);
  write(dc, "Но будучи примерно половиной жилого пространства в типовой однокомнатной квартире...", tsp);
  write(dc, "...Эти квадратные метры играют не последнюю роль в твоей жизни.", tsp);
  write(skoof, "Есть хочется.", tsp);
  write(skoof, "Что у нас на зватрак?", tsp);
  write(innv, "Внутренний голос подсказывает тебе, что лучше даже не соваться в холодильник!", tsp);
  write(innv, "Просто поверь!", tsp);
  write(innv, "(Кстати, внутренний голос -- это я).", tsp); # Спасибо, Капитан Очевидность.
  write(dc, "Ты привык делить на шестнадцать любое мнение и заявление этого назойливого наглеца в твоей голове.", tsp);
  write(dc, "Но в этот раз ты почему-то склонен ему поверить.", tsp);
  write(dc, "Быть может, всё дело в том, что рецепторная память играет не последнюю роль в твоём теле?", tsp);
  write(dc, "Страшные, невыносимые по своей мерзости запахи вспыхивают в твоём разуме.", tsp);
  write(dc, "Гниль, только глубокая гниль, вызванная разве что разложением белковых форм жизни, может быть причиной такого уровня вони.", tsp);
  write(skoof, "Пожалуй, ты прав.", tsp);
  write(dc, "Твой взгляд скользит по обшарпан.. кхм...", tsp); # хахаха
  write(dc, "Видавшему виды, но всё ещё старому доброму столу", tsp);
  write(skoof, "Остатки былого праздника.", tsp);
  write(innv, "Интересно, есть ли пицца внутри коробки с пиццей?", tsp);
  write(skoof, "Есть только один способ узнать об этом.", tsp);
  write(game, "Открыть коробку", tsp, True);
  input(press_enter);
  write(dc, "Коробка открывается с лёгким хрустом гофрокартона, и твоему взору предстаёт он.", tsp);
  write(skoof, "Последний кусок.", tsp);
  write(innv, "Вчерашний!", tsp);
  write(dc, "Его величество вчерашний кусок пиццы.", tsp);
  write(dc, "Королевский завтрак.", tsp);
  write(dc, "Спонсор гастрита™", tsp);
  write(skoof, "Нас ждёт вопрос похлеще Гамлетовского.", tsp);
  write(game, "Разогреть или съесть так?", tsp, True);
  print("0 -- Греть, греть!\n1 -- Сэкономим электричество, силы и время\nНичего -- 0");
  temp = input(">> ");
  temp = (int(temp) % 2) if (temp) else 0;
  sleep(0.3);
  if (temp == 0):
    write(dc, "Величественно вращаясь, вчерашний кусок пиццы позволяет своим молекулам двигаться быстрее.", tsp);
    write(dc, "Тем самым делая свою структуру горячее, а твою жизнь -- чуточку приятнее.", tsp);
    sleep(0.6);
    write(innv, "ДИННЬ!!", tsp);
    write(skoof, "Ну, приятного аппетита!", tsp);
  write(dc, "Твои зубы вонзаются в упругую вчерашнюю хлебную плоть.", tsp);
  write(dc, "Челюсти мерно двигаются, перемалывая нехитрую начинку.", tsp);
  write(dc, "Если бы ты был в настольной ролевой игре, то это действие восстановило бы твои очки здоровья.", tsp); # отсылка на майнкрафт пре-беты 1.8
  write(dc, "Или дало заряд бодрости.", tsp); # отсылка на майнкрафт после беты 1.8
  write(dc, "Но ты не в настольной ролевой игре.", tsp);
  write(dc, "Ты на кухне в России.", tsp);
  write(skoof, "*Глоть*", tsp);
  write(dc, "Кусок камнем падает на дно твоего желудка.", tsp);
  write(skoof, "Доброе утро, пищеварительный тракт.", tsp);
  write(skoof, "Надеюсь, ты доволен.", tsp);
  write(skoof, "Завтрак окончен, пора приступать к делам.", tsp);
  write(innv, "Ха-ха, да какие у тебя могут быть дела!?", tsp);
  write(innv, "Скажи уж честно: иду играть в танки!", tsp);
  write(game, "Перейти в комнату", tsp, True);
  input(press_enter);
  write(skoof, "Ну вот мы и дома.", tsp);
  write(dc, "Пропёрженный стул смиренно принимает на себя твою увесистую душу.", tsp);
  write(dc, "Рука привычно нащупывает кнопку запуска.", tsp);
  write(dc, "Родной логотип компании, производящей программное обеспечение. СТАВЬТЕ ЛИНУКС!!!", tsp); # Линукс топ.
  write(dc, "Тёплый свет загрузочного экрана.", tsp);
  write(dc, "И вот ты готов отправиться в лучший из миров.", tsp);
  sleep(0.6);
  write(innv, "Танки!", tsp);
  write(innv, "ТАНКИ!", tsp);
  write(dc, "Привычным росчерком руки с зажатой в ней мывшью ты подводишь курсор к столь милому сердцу ярлыку...", tsp);
  write(innv, "Жми!", tsp);
  write(skoof, "Что-то не то.", tsp);
  write(skoof, "Танки, танки, танки!", tsp);
  write(skoof, "Каждый день одни танки!", tsp);
  write(skoof, "У меня там уже ранг мастера, что дальше?", tsp);
  write(skoof, "Катка за каткой, куда ещё-то?", tsp);
  write(skoof, "Мля, как же скучно...", tsp);
  write(dc, "Твой разум затуманивает сигнал откуда-то снизу.", tsp);
  write(dc, "Расслабившись в тепле и уюте привычной берлоги...", tsp);
  write(dc, "Ты чувствуешь странный позыв, звучащий даже не у тебя в мозгу, но в крови", tsp);
  write(dc, "\"Тяночку бы......\"", tsp);
  write(innv, "Не забывай про танки!", tsp);
  write(innv, "Они даруют тебе привычное спокойствие обыденности!", tsp);
  write(innv, "ЖМИ!", tsp);
  write(dc, "Ты берёшь себя в руки, и наводишь курсор на заветную иконку.", tsp);
  write(game, "Запустить танки?", tsp);
  print("0 -- Скучно\n1 -- Скучно\n2 -- Скучно\n3 -- Скучно\nНичего -- 0");
  temp = input(">> ");
  temp = (int(temp) % 4) if (temp) else 0;
  sleep(0.3);
  write(innv, "СКУФНО!", tsp);
  write(innv, "ХА-ХА-ХА-ХА-ХА!", tsp);
  write(innv, "Кстати, а другие скуфы тоже знают, что они скуфы?", tsp); # момент, который поменял весь сюжет игры
  write(skoof, "Конечно, даже есть такой сервис государственный.", tsp);
  write(skoof, "Скуфуслуги!", tsp);
  write(innv, "Ты, должно быть, издеваешься?", tsp);
  write(innv, "Прикалываешься надо мной?!", tsp);
  write(skoof, "Да нет, смотри сам!", tsp);
  write(dc, "Пара кликов на мониторе, и волшебство широкополосного соединения переносит тебя...", tsp);
  write(dc, "...В бескрайний океан интернета", tsp);
  write(dc, "На экране загорается логотип, а после прогружается весь сайт полностью.", tsp);
  sleep(0.6);
  write(innv, "Вот это да! Ты не врал!", tsp);

  write(game, "ПРОДОЛЖЕНИЕ СЛЕДУЕТ... v0.1.2", tsp);

  return 0;

if (__name__ == "__main__"):
  sys.exit(main(len(sys.argv), sys.argv));

