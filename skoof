#!/usr/bin/python3

import sys;
from time import sleep;

innv = "ВНУТРЕННИЙ ГОЛОС:"
nSkoof = "???:"
skoof = "СКУФ:"
dc = "ДИКТОР:"
game = "ИГРА:"
alt0 = "КСЮША:"
alt1 = "НАСТЯ:"
alt2 = "АЛИСА:"

press_enter = ">> Нажмите <Enter>, чтобы продолжить <<\n";

# A function for writing text to the screen with an animation
def write(title: str, s: str, duration: int, autonext: bool = False):
  for i in range(len(title)+1):
    print(f"\r{title[:i]}", end="");
    sleep(0.028);
  for i in range(len(s)+1):
    print(f"\r{title} {s[:i]}", end="");
    sleep(duration/1000);
  if (autonext):
    sleep(0.2);
    print();
  else:
    input();

def main(argc: int, argv: list):
  tsp = 45;
  write(innv, "Доброе утро, СКУФЫ!", tsp);
  write(nSkoof, "Ещё один день.", tsp);
  write(dc, "Где я? Кто я?", tsp);
  write(game, "Как тебя зовут?", tsp, True);
  temp = input(">> ");
  if (temp.lower() != "скуф"):
    write(innv, "Кого ты пытаешься надуть!? Все знают, что ты просто СКУФ!", tsp);
  write(skoof, "Ещё один день.", tsp);
  write(skoof, "Ещё один бессмысленный день.", tsp);
  write(innv, "Дружище, хорош киснуть! Всё не может быть настолько плохо!", tsp);
  write(skoof, "Как я дошёл до того, что мой единственный собеседник, это мой внутренний голос?", tsp);
  write(innv, "Проснись и ПОЙ!", tsp);
  write(skoof, "В одном он прав.", tsp);
  write(skoof, "Конечно, хорошо было бы провести в постели весь день...", tsp);
  write(skoof, "А впрочем, почему бы и нет?", tsp);
  write(game, "Провести в постели весь день?", tsp, True);
  print("0 -- Да, с удовольствием!\n1 -- Конечно нет!\nНичего -- 0");
  temp = input(">> ");
  temp = (int(temp) % 2) if (temp) else 0;
  if (temp == 0):
    write(dc, "Ты переворачиваешься на другой бок, уютно укутавшись старым добрым одеялом.", tsp);
    write(dc, "Удобно устариваясь на матрасе среднего уровня качества, ты погружаешься в него, словно нож в масло.", tsp);
    write(dc, "По твоему телу пробегает лёгкая дрожь. Ты знаешь, что за этим последует.", tsp);
    write(dc, "Твои веки тяжелеют, а мысли путаются.", tsp);
    write(dc, "Ты засыпаешь.", tsp);
    sleep(0.6);
    write(innv, "Добрый вечер!", tsp);
    write(skoof, "В смысле... Вечер?", tsp);
    write(dc, "Ты видишь, как свет уличного фонаря проникает сквозь зазор между шторами.", tsp);
    write(dc, "Сочные городские сумерки проглотили твою типовую панельку и, переварив, изрыгнули в промозглый провинциальный вечер.", tsp);
    write(dc, "День остался позади.", tsp);
    write(game, "Встать с кровати.", tsp, True);
    input(press_enter);
  else:
    write(dc, "Легко и непринуждённо с грацией, которой позавидовала бы косуля (по крайней мере, тебе так кажется)...", tsp);
    write(dc, "...Ты соскакиваешь с повидавшей виды, но всё ещё добротной полутораспальной кровати.", tsp);
  sleep(0.3);
  write(innv, "БАБАХ!", tsp);
  write(dc, "Ты грузно и неуклюже падаешь на пол, неудобно подвернув руку под свой месистый живот.", tsp);
  write(skoof, "Сука!", tsp);
  write(dc, "Этот грохот, наверное, соседи на три этажа вниз слышали.", tsp);
  write(innv, "Тебя ждут великие дела!", tsp);
  write(skoof, "Окей, окей, уже встаю, товарищ начальник.", tsp);
  write(innv, "Я не начальник, я твой лучший ДРУУУГ!", tsp);
  write(dc, "Смурной и сонный, не найдя под кроватью шлёпанцы (чёрт бы их побрал), ты выходишь в коридор.", tsp);
  write(skoof, "Какого чёрта здесь так темно!?", tsp);
  write(innv, "Чего ты ещё ждал? Что на самом дне человеческого существования всё будет ярко, как в жаркий полдень из рассказа Рэя Бредберри?", tsp);
  write(skoof, "Заткнись, я не с тобой разговариваю!", tsp);
  write(innv, "А с кем тогда?", tsp);
  write(skoof, "Сам с собой, вот с кем!", tsp);
  write(innv, "Но ведь я и есть ты!", tsp);
  write(skoof, "Заткнись, заткнись!", tsp);
  write(innv, "А вдруг во тьме нас ждут ЧУДОВИЩА?", tsp);
  write(innv, "Которые только и мечтают, чтобы затянуть тебя вглубь своими склизкими щупальцами?", tsp);
  write(dc, ".............", tsp);
  write(skoof, "Ты дурак?", tsp);
  write(dc, "Диалог занимает в твоей голове не более полутора секунд, а рука сама привычно нашаривает рельеф выключателя на обшарпанной стене.", tsp);
  write(game, "Включить свет.", tsp, True);
  input(press_enter);
  write(skoof, "Теперь, когда фронт работ освещён, нам предстоит нелёгкий выбор.", tsp);
  write(skoof, "Куда мне отправиться дальше, дабы смахнуть остатки сна с моих нежных ресниц...", tsp);
  write(innv, "...Напоминающих обувную щётку?", tsp);
  write(skoof, "Цыц, здесь я делаю выбор, данный мне столь щедро создателем.", tsp);
  print("0 -- Пойти в ванную\n1 -- Пойти в туалет\nНичего -- 0");
  current_place = input(">> ");
  current_place = (int(current_place) % 2) if (current_place) else 0;
  work_list = ["ванная", "туалет"];
  while (work_list):
    if ((current_place == 0) and ("ванная" in work_list)):
      write(dc, "Грязная ванная встречает тебя с радостью похороонного служащего.", tsp);
      write(dc, "Совершенно очевидно, что вы друг другу чужие и ваши отношения -- в лучшем случае деловые.", tsp);
      write(dc, "В худшем -- токсичные созависимые.", tsp);
      write(skoof, "Так. Ты не нравишься мне, а я не нравлюсь тебе, леди ванная комната.", tsp);
      write(skoof, "Давай решим это по-быстрому.", tsp);
      write(skoof, "Все всё понимают!", tsp);
      write(skoof, "Мы взрослые люди.", tsp);
      write(innv, "Разговариваешь с ванной комнатой? Да ты совсем с катушек слетел, дружище.", tsp);
      write(skoof, "Не я, а мы. Ты же часть меня, разве забыл?", tsp);
      write(game, "Посмотреть в зеркало", tsp, True);
      input(press_enter);
      write(skoof, "Нет. Нет. Точно нет.", tsp);
      write(innv, "Откуда такая категоричность?", tsp);
      write(skoof, "Оно... Оно просто грязное. Там ничего не видно.", tsp);
      write(innv, "Так протри его, всего делов!", tsp);
      write(skoof, "Ну...", tsp);
      write(game, "Протереть зеркало", tsp, True);
      input(press_enter);
      write(dc, "Зажав в руке то, что когда-то называлось \"Полотенце Вафельное Гост 11027\", ты производишь несколько характерных вращательных движений.", tsp);
      write(dc, "Старое стекло приятно поскрипыывает под волокнами ткани.", tsp);
      write(dc, "Грязь отступает, давая зеркальной поверхности ещё один шанс засиять.", tsp);
      write(dc, "(Конечно же, при наличии источника направленного света).", tsp);
      write(innv, "Узри же, шакал!", tsp);
      write(skoof, "НЕТ!", tsp);
      write(skoof, "Я не хочу!", tsp);
      write(skoof, "Мне точно не понравится то, что я там увижу.", tsp);
      write(skoof, "Я же только проснулся и не хочу расстраиваться на весь день вперёд.", tsp);
      write(skoof, "Когда-то отражение в этом зеркале было словно репродукция картины эпохи Ренессанса...", tsp);
      write(skoof, "...Ну, одной из тех, на античную тематику.", tsp);
      write(skoof, "Но теперь...", tsp);
      write(skoof, "Чудовище, живущее там, может запросто выбраться наружу и убить нас всех!", tsp);
      write(innv, "Ты здесь один?", tsp);
      write(skoof, "КХАААА....", tsp);
      write(dc, "Хрип в твоей груди вот-вот сорвётся на сдавленные рыдания, но помощь приходит оттуда, откуда ты её вовсе не ждал.", tsp);
      write(innv, "Тише, тише, дружище.", tsp);
      write(innv, "Мы уже поняли, ванная команата -- не лучшее место для тебя.", tsp);
      write(innv, "Давай пойдём куда-нибудь ещё.", tsp);
      if ("туалет" in work_list):
        write(game, "Пойти в туалет", tsp, True);
        input(press_enter);
        current_place = 1;
      else:
        write(game, "Выйти в коридор", tsp, True);
        input(press_enter);
      work_list.remove("ванная");
    elif ((current_place == 1) and ("туалет" in work_list)):
      write(skoof, "Пойти в туалет? Что ещё? Может просраться в сортире?", tsp);
      write(innv, "Ой, простите, ваше величество!", tsp);
      write(game, "Посетить уборную.", tsp, True);
      input(press_enter);
      write(skoof, "Самый важный ритуал за день.", tsp);
      write(skoof, "И по совместитьельству -- самый приятный!", tsp);
      write(game, "Просраться как следует?", tsp, True);
      print("0 -- Да\n1 -- Да\n2 -- Da\n3 -- Чёрт возьми да!\nНичего -- 0");
      temp = input(">> ");
      temp = (int(temp) % 4) if (temp) else 0;
      sleep(0.6);
      write(innv, "Поздравляю, ты получил +2 к здоровью и +3 к харизме!", tsp);
      write(skoof, "Правда? Было бы неплохо! Со здорозвьем у меня как раз проблемы.", tsp);
      write(innv, "Неправда!", tsp);
      write(skoof, "Чёрт.", tsp);
      write(skoof, "Кажется, все дела в коридоре мы закончили.", tsp);
      write(skoof, "Тьфу ты! Какие ещё \"дела\" могут быть в коридоре?..", tsp);
      write(skoof, "Ладно, не хочу об этом думать.", tsp);
      work_list.remove("туалет");
      if ("ванная" in work_list):
        write(game, "Пойти в ванную", tsp, True);
        input(press_enter);
        current_place = 0;

  write(game, "Отправиться на кухню", tsp, True);
  input(press_enter);
  write(innv, "Ты имел в виду, <<Отправиться на скуфню>>?", tsp);
  write(game, "ПРОДОЛЖЕНИЕ СЛЕДУЕТ... v0.1.1", tsp);

  return 0;

if (__name__ == "__main__"):
  sys.exit(main(len(sys.argv), sys.argv));

